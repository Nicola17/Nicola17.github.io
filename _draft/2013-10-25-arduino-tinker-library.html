---
layout: post
title: Arduino Tinker Library
date: '2013-10-25T22:20:00.001+02:00'
author: Nicola Pezzotti
tags:
- C++
- Template
- Alexandrescu
- Arduino
- Sutter
- Books
- Vect3d
modified_time: '2013-10-25T23:28:58.306+02:00'
thumbnail: http://1.bp.blogspot.com/-c17LkiA8vSI/UmrNIBNKTUI/AAAAAAAABdg/j95wywyhG9M/s72-c/Arduino-logo.png
blogger_id: tag:blogger.com,1999:blog-7911490130261214164.post-4839171181747440803
blogger_orig_url: http://diaryofatinker.blogspot.com/2013/10/arduino-tinker-library.html
---

<div class="separator" style="clear: both; text-align: center;"><a href="http://1.bp.blogspot.com/-c17LkiA8vSI/UmrNIBNKTUI/AAAAAAAABdg/j95wywyhG9M/s1600/Arduino-logo.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="http://1.bp.blogspot.com/-c17LkiA8vSI/UmrNIBNKTUI/AAAAAAAABdg/j95wywyhG9M/s1600/Arduino-logo.png" /></a></div><br /><br /><div style="text-align: justify;">I've just started working on my Arduino C++ library. You can <a href="https://github.com/Nicola17/ArduinoTinkerLibrary">find it on GitHub</a>: feel free to download it and use it for your projects.</div><div style="text-align: justify;"><br /></div><div style="text-align: justify;">I'll try to build a modern C++ library with advanced techniques and many examples. I'll suggest you a couple of books by which I am inspired:</div><ul><li><a href="http://www.amazon.com/Modern-Design-Generic-Programming-Patterns/dp/0201704315">Modern C++ Design: Generic Programming and Design Patterns Applied</a></li><li><span id="btAsinTitle"><a href="http://www.amazon.com/Exceptional-Engineering-Programming-Problems-Solutions/dp/0201615622/ref=la_B001ILHLCK_1_1?s=books&amp;ie=UTF8&amp;qid=1382731264&amp;sr=1-1">Exceptional C++: 47 Engineering Puzzles, Programming Problems, and Solutions</a></span></li></ul><br /><h2>Log Interface</h2><div style="text-align: justify;">AbstractLog.h contains an abstract class that you can use in your algorithm class to log every operation.</div><div style="text-align: justify;"><script class="brush: c++" type="syntaxhighlighter"><![CDATA[  class AbstractLog{  public:   virtual void endline()=0;   virtual void display(char* str)=0;   virtual void display(byte v)=0;   virtual void display(float v)=0;   virtual void display(double v)=0;   virtual void display(int v)=0;   virtual void display(unsigned int v)=0;   virtual void display(unsigned long v)=0;   virtual void clear()=0;  }; ]]></script> In SerialLog.h you will find a concrete implementation of AbstractLog which write your algorithm log on the Arduino serial port</div><div style="text-align: justify;"><script class="brush: c++" type="syntaxhighlighter"><![CDATA[   class SerialLog: public AbstractLog{   public:     virtual void endline(){       Serial.println("");     }     virtual void display(char* str){       Serial.print(str);     }     virtual void display(byte v){       Serial.print(v);     }     virtual void display(float v){       Serial.print(v);     }     virtual void display(double v){       Serial.print(v);     }     virtual void display(int v){       Serial.print(v);     }     virtual void display(unsigned int v){       Serial.print(v);     }     virtual void display(unsigned long v){       Serial.print(v);     }          virtual void clear(){}; //Is not possibile to to clear data on Serial   }; ]]></script> In the future I'll show you how to log on a LCD display instead!</div><br /><h2>Vect3d</h2><div><div style="text-align: justify;">Vect3d.h contains a class that represent a 3-dimensional vector. You can use it to do some calculation on a generic 3D space (euclidean space, RGB color space ...)</div></div><div><br /></div><div><br /></div><div><div style="text-align: justify;">If you <a href="http://arduino.cc/en/Guide/Libraries">install</a> the Arduino Tinker Library you will find into Arduino IDE an example on how to use Vect3d in your code (File -&gt; Examples -&gt; ArduinoTinkerLibrary -&gt; vect3d)</div></div><script class="brush: c++" type="syntaxhighlighter"><![CDATA[ #include "Vect3d.h" #include "SerialLog.h"  /*******************************  * Vect3d - test and example  *******************************/ Tinker::Vect3d<byte> b0;  Tinker::Vect3d<byte> b1(128); Tinker::Vect3d<byte> b2(64.5); Tinker::Vect3d<float> f0; Tinker::Vect3d<float> f1(1.f); Tinker::Vect3d<float> f2(f1); Tinker::Vect3d<float> f3(123,456,789); Tinker::SerialLog serialLog;  void setup(){   Serial.begin(9600);   serialLog.display("Vect3d Example");      serialLog.endline();  serialLog.display("Constructor"); serialLog.endline();   Tinker::LOG::displayVect3d(b0,&serialLog);   serialLog.endline();   Tinker::LOG::displayVect3d(b1,&serialLog);   serialLog.endline();   Tinker::LOG::displayVect3d(b2,&serialLog);   serialLog.endline();   Tinker::LOG::displayVect3d(f0,&serialLog);   serialLog.endline();   Tinker::LOG::displayVect3d(f1,&serialLog);   serialLog.endline();   Tinker::LOG::displayVect3d(f2,&serialLog);   serialLog.endline();   Tinker::LOG::displayVect3d(f3,&serialLog);   serialLog.endline();      //Copy    serialLog.endline();  serialLog.display("Copy"); serialLog.endline();   f1 = b2;   f0 = 1;   Tinker::LOG::displayVect3d(f1,&serialLog);   serialLog.endline();   Tinker::LOG::displayVect3d(f0,&serialLog);   serialLog.endline();      //Test   serialLog.endline();  serialLog.display("Test"); serialLog.endline();   if(f1 == b2){     serialLog.display("f1 == b2"); serialLog.endline();   }   if(f3 != b2){     serialLog.display("f3 != b2"); serialLog.endline();   }      //Sum   serialLog.endline();  serialLog.display("Sum"); serialLog.endline();   Tinker::LOG::displayVect3d((f3+1),&serialLog); serialLog.endline();   Tinker::LOG::displayVect3d((f3+Tinker::Vect3d<byte>(1,2,3)),&serialLog);    serialLog.endline();   b1+=1;   Tinker::LOG::displayVect3d(b1,&serialLog); serialLog.endline();   b1+=Tinker::Vect3d<float>(1.5,2.5,3.5);   Tinker::LOG::displayVect3d(b1,&serialLog); serialLog.endline();      //Sub   serialLog.endline();  serialLog.display("Sub"); serialLog.endline();   Tinker::LOG::displayVect3d((f3-1),&serialLog); serialLog.endline();   Tinker::LOG::displayVect3d((f3-Tinker::Vect3d<byte>(1,2,3)),&serialLog);    serialLog.endline();   b1-=1;   Tinker::LOG::displayVect3d(b1,&serialLog); serialLog.endline();   b1-=Tinker::Vect3d<float>(1.5,2.5,3.5);   Tinker::LOG::displayVect3d(b1,&serialLog); serialLog.endline();      //Scalar Mul   serialLog.endline();  serialLog.display("Scalar Mul"); serialLog.endline();   Tinker::LOG::displayVect3d((f3*2.5),&serialLog); serialLog.endline();   f2*=3;   Tinker::LOG::displayVect3d(f2,&serialLog); serialLog.endline();        //Scalar Div   serialLog.endline();  serialLog.display("Scalar Div"); serialLog.endline();   Tinker::LOG::displayVect3d((f3/2.5),&serialLog); serialLog.endline();   f2/=3;   Tinker::LOG::displayVect3d(f2,&serialLog); serialLog.endline();         //External functions   serialLog.endline();  serialLog.display("External functions");    serialLog.endline();   serialLog.display("NormL1("); Tinker::LOG::displayVect3d(f0,&serialLog);      serialLog.display(" - "); Tinker::LOG::displayVect3d(f1,&serialLog);    serialLog.display("): ");   serialLog.display(Tinker::normL1(f0,f1)); serialLog.endline();      serialLog.display("NormL2("); Tinker::LOG::displayVect3d(f0,&serialLog);      serialLog.display(" - "); Tinker::LOG::displayVect3d(f1,&serialLog);      serialLog.display("): ");   serialLog.display(Tinker::normL2(f0,f1)); serialLog.endline();      serialLog.display("dot("); Tinker::LOG::displayVect3d(f0,&serialLog);      serialLog.display(" - "); Tinker::LOG::displayVect3d(f1,&serialLog);   serialLog.display("): ");   serialLog.display(Tinker::dot(f0,f1)); serialLog.endline();      serialLog.display("cross("); Tinker::LOG::displayVect3d(f3,&serialLog);      serialLog.display(" - "); Tinker::LOG::displayVect3d(f1,&serialLog);       serialLog.display("): ");   Tinker::LOG::displayVect3d(Tinker::cross(f3,f1),&serialLog);    serialLog.endline();    }  void loop(){  } ]]></script> <br /><div><div style="text-align: justify;">If you open the Arduino Serial Monitor (Tools -&gt; Serial Monitor or Ctrl+Shift+M) you should see the following output</div><br /><blockquote>Vect3d Example<br />Constructor<br />V[0;0;0]<br />V[128;128;128]<br />V[64;64;64]<br />V[0.00;0.00;0.00]<br />V[1.00;1.00;1.00]<br />V[1.00;1.00;1.00]<br />V[123.00;456.00;789.00]<br />Copy<br />V[64.00;64.00;64.00]<br />V[1.00;1.00;1.00]<br />Test<br />f1 == b2<br />f3 != b2<br />Sum<br />V[124.00;457.00;790.00]<br />V[124.00;458.00;792.00]<br />V[129;129;129]<br />V[130;131;132]<br />Sub<br />V[122.00;455.00;788.00]<br />V[122.00;454.00;786.00]<br />V[129;130;131]<br />V[127;127;127]<br />Scalar Mul<br />V[307.50;1140.00;1972.50]<br />V[3.00;3.00;3.00]<br />Scalar Div<br />V[49.20;182.40;315.60]<br />V[1.00;1.00;1.00]<br />External functions<br />NormL1(V[1.00;1.00;1.00] - V[64.00;64.00;64.00]): 189.00<br />NormL2(V[1.00;1.00;1.00] - V[64.00;64.00;64.00]): 13.86<br />dot(V[1.00;1.00;1.00] - V[64.00;64.00;64.00]): 192.00<br />cross(V[123.00;456.00;789.00] - V[64.00;64.00;64.00]): V[-21312.00;42624.00;-21312.00]</blockquote></div><div><br /></div><div><br /></div>